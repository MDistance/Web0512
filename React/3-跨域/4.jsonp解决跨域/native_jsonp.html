<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>native_jsonp</title>
</head>
<body>
<button id="btn">点我使用jsonp方式获取数据</button>
<script type="text/javascript">
  /*
  * jsonp解决跨域：
  *   1.原理：利用了script标签发请求不受到同源策略的限制。
  *   2.必须要有后端人员配合
  *   3.只能解决get请求跨域的问题
  *   4.工作中几乎不用
  * 使用套路：
  *   1.创建script节点
  *   2.指定节点的src属性，同时传递给服务器回调函数的名字
  *   3.指定好回调函数
  *   4.将节点放入body
  * */

  let btn = document.getElementById('btn')
  btn.onclick = ()=>{
    let scriptNode = document.createElement('script')
    window.getData = (data)=>{
      console.log(data)
    }
    scriptNode.src = 'http://localhost:3000/test_get?callback=getData'
    document.body.appendChild(scriptNode)
  }


</script>


</body>
</html>