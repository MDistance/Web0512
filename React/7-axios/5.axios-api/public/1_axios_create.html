<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<script type="text/javascript" src="./js/axios.min.js"></script>

	<button id="btn1">点我</button><br><br>

	 <!-- 
		axios.create(config)
				1. 根据指定配置创建一个新的axios, 也就是每个新axios都有自己的配置
				2. 新axios只是没有取消请求和批量发请求的方法, 其它所有语法都是一致的
				3. 为什么要设计这个语法?
					需求: 项目中有部分接口需要的配置与另一部分接口需要的配置不太一样
	-->
	
	<script type="text/javascript">

	//给axios设置默认属性
	//axios.defaults.baseURL = 'http://localhost:3000';

	//axios.create创建一个新的axios
	const axios2 = axios.create({
		baseURL: 'http://localhost:3000', //请求的基本路径
		timeout: 1000,
	});
	

	let btn1 = document.getElementById('btn1')
	
	btn1.onclick = ()=>{
		axios2({
			url:'/get_persons',
			method:'get'
		}).then(
			response => console.log(response),
			error => console.log(error),
		)
	}

	</script>
</body>
</html>
